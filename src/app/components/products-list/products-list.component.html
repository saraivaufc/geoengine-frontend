<div class="container-fluid">
	<div class="row">
		<div class="custom-control custom-switch custom-control-inline" *ngFor="let tag of tags">
			<input type="checkbox" class="custom-control-input"  
				id="{{ tag.value }}"
				name="{{ tag.value }}" 
				[checked]="tag.checked"
				(change)="updateTags($event)">
			<label class="custom-control-label" for="{{ tag.value }}">
				{{ tag.label }}
			</label>
		</div>
	</div>
</div>

<br>

<div class="accordion" id="accordionExample">
	<h1 *ngIf="loading">Loading...</h1>
	<div class="card" *ngFor="let recipient of products | keyvalue">
		<div class="row">
			<div class="col-md-12">
				<div class="p-2 w-100  bg-primary">
					<button type="button" class="btn btn-info">
						<i class="fa fa-calendar-alt"></i>
						{{ recipient.value[0].image.date_acquired }}
					</button>
					<button type="button" class="btn btn-warning">
						<i class="fa fa-cloud"></i>
						{{ recipient.value[0].image.cloud_cover }}%
					</button>
				</div>
			</div>
		</div>

		<div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
		  <div class="card-body">
		  	<div class="row">
		  		<app-products-item class="m-0 p-0" 
		  		[ngClass]="'col-md-' + (12 / getSelectedTags().length)" 
		  		*ngFor="let product of recipient.value" 
		  		[product]="product"></app-products-item>
		  	</div>
		  </div>
		</div>
	</div>
</div>